# æ–‡ä»¶å¤¹å‘½åæ ¼å¼ä¿®æ­£è¯´æ˜

## ğŸ”§ ä¿®æ­£å†…å®¹

æ ¹æ®æ‚¨çš„åé¦ˆï¼Œæ•°æ®é›†æ–‡ä»¶å¤¹å‘½åæ ¼å¼åº”è¯¥æ˜¯ï¼š
- âœ… **æ­£ç¡®æ ¼å¼**: `ID_1`, `ID_2`, `ID_3`, ..., `ID_31`
- âŒ **é”™è¯¯æ ¼å¼**: `ID1`, `ID2`, `ID3`, ..., `ID31` (ä¹‹å‰çš„è¯¯è§£)

## ğŸ“ æ•°æ®é›†ç»“æ„

```
/kaggle/input/dataset/
â”œâ”€â”€ ID_1/          # user_id = 0
â”‚   â”œâ”€â”€ image1.png
â”‚   â”œâ”€â”€ image2.png
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ID_2/          # user_id = 1
â”‚   â”œâ”€â”€ image1.png
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ID_3/          # user_id = 2
â”‚   â””â”€â”€ ...
...
â””â”€â”€ ID_31/         # user_id = 30
    â””â”€â”€ ...
```

## ğŸ”„ ç”¨æˆ·IDæ˜ å°„

| æ–‡ä»¶å¤¹å | æ¨¡å‹user_id | è¯´æ˜ |
|----------|-------------|------|
| ID_1     | 0           | ç¬¬1ä¸ªç”¨æˆ· |
| ID_2     | 1           | ç¬¬2ä¸ªç”¨æˆ· |
| ID_3     | 2           | ç¬¬3ä¸ªç”¨æˆ· |
| ...      | ...         | ... |
| ID_31    | 30          | ç¬¬31ä¸ªç”¨æˆ· |

## ğŸ“ ä¿®æ”¹çš„æ–‡ä»¶

### 1. æ•°æ®åŠ è½½å™¨ (`micro_doppler_loader.py`)
```python
# ä¿®æ”¹å‰ (é”™è¯¯ç†è§£)
self.data_root / f"ID{user_id + 1}"   # ID1, ID2, ...

# ä¿®æ”¹å (æ­£ç¡®æ ¼å¼)
self.data_root / f"ID_{user_id + 1}"  # ID_1, ID_2, ...
```

### 2. Kaggleè®­ç»ƒè„šæœ¬
- `train_kaggle_decoder.py`
- `train_kaggle_prior.py`
- `test_kaggle_dataset.py`

```python
# ä¿®æ”¹å‰ (é”™è¯¯ç†è§£)
for i in range(1, 32):  # ID1 to ID31
    folder = data_path / f"ID{i}"

# ä¿®æ”¹å (æ­£ç¡®æ ¼å¼)
for i in range(1, 32):  # ID_1 to ID_31
    folder = data_path / f"ID_{i}"
```

### 3. æ–‡æ¡£æ–‡ä»¶
- `README_KAGGLE.md`

## ğŸ§ª éªŒè¯ä¿®æ­£

è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯ä¿®æ­£æ˜¯å¦æ­£ç¡®ï¼š

```bash
# å¿«é€Ÿæµ‹è¯•å‘½åæ ¼å¼
python quick_test_naming.py

# å®Œæ•´æµ‹è¯• (éœ€è¦çœŸå®æ•°æ®é›†)
python test_kaggle_dataset.py
```

## ğŸ” å…¼å®¹æ€§æ”¯æŒ

æ•°æ®åŠ è½½å™¨ç°åœ¨æ”¯æŒå¤šç§å‘½åæ ¼å¼ï¼ŒæŒ‰ä¼˜å…ˆçº§é¡ºåºï¼š

1. **ä¸»è¦æ ¼å¼**: `ID_1`, `ID_2`, ..., `ID_31` âœ…
2. **å¤‡ç”¨æ ¼å¼**: `user_0`, `user_1`, ..., `user_30`
3. **å¤‡ç”¨æ ¼å¼**: `ID1`, `ID2`, ..., `ID31`

è¿™ç¡®ä¿äº†å‘åå…¼å®¹æ€§ï¼ŒåŒæ—¶ä¼˜å…ˆä½¿ç”¨æ‚¨çš„æ­£ç¡®æ ¼å¼ã€‚

## ğŸš€ ä½¿ç”¨æ–¹æ³•

ä¿®æ­£åçš„ä½¿ç”¨æ–¹æ³•å®Œå…¨ç›¸åŒï¼š

```bash
# 1. æµ‹è¯•æ•°æ®é›†
python test_kaggle_dataset.py

# 2. è®­ç»ƒè§£ç å™¨
python train_kaggle_decoder.py --use_vqgan --batch_size 8 --epochs 50

# 3. è®­ç»ƒå…ˆéªŒ
python train_kaggle_prior.py --batch_size 16 --epochs 50

# 4. ç”Ÿæˆå›¾åƒ
python generate_micro_doppler.py \
    --decoder_path /kaggle/working/outputs/decoder_*/decoder_final.pt \
    --prior_path /kaggle/working/outputs/prior_*/prior_final.pt \
    --user_ids 0 1 2 3 4 \
    --num_samples_per_user 4
```

## âœ… éªŒè¯æ¸…å•

- [x] æ•°æ®åŠ è½½å™¨æ”¯æŒ `ID_1` åˆ° `ID_31` æ ¼å¼
- [x] ç”¨æˆ·IDæ­£ç¡®æ˜ å°„ (ID_1â†’0, ID_2â†’1, ..., ID_31â†’30)
- [x] è®­ç»ƒè„šæœ¬æ›´æ–°æ–‡ä»¶å¤¹æ£€æµ‹é€»è¾‘
- [x] æµ‹è¯•è„šæœ¬éªŒè¯å‘½åæ ¼å¼
- [x] æ–‡æ¡£æ›´æ–°æ­£ç¡®çš„å‘½åç¤ºä¾‹
- [x] ä¿æŒå‘åå…¼å®¹æ€§

## ğŸ¯ é¢„æœŸç»“æœ

ä¿®æ­£åï¼Œç³»ç»Ÿå°†ï¼š
1. æ­£ç¡®è¯†åˆ«æ‚¨çš„ `ID_1` åˆ° `ID_31` æ–‡ä»¶å¤¹
2. å°†å®ƒä»¬æ˜ å°„åˆ° `user_id` 0åˆ°30
3. åœ¨ç”Ÿæˆæ—¶ä½¿ç”¨ `--user_ids 0 1 2 ...` æ¥æŒ‡å®šç”¨æˆ·
4. ç”Ÿæˆå¯¹åº”ç”¨æˆ·çš„å¾®å¤šæ™®å‹’æ—¶é¢‘å›¾åƒ

æ‰€æœ‰åŠŸèƒ½ä¿æŒä¸å˜ï¼Œåªæ˜¯æ–‡ä»¶å¤¹å‘½åæ ¼å¼å¾—åˆ°äº†æ­£ç¡®æ”¯æŒï¼
